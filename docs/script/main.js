class f{static async get(h){try{return await(await fetch(`${h}.json`)).json()}catch{return null}}}class u{static element(h,v,x=document.body){const M=document.createElement(h);return M.className=v,x.appendChild(M),M}}class D{static count=0;DOM;DOMTitle;DOMMessage;DOMIcon;status(h){this.DOM.setAttribute("status",h)}remove(){this.status("close")}constructor(h,v,x,M="\u062E\u0631\u0648\u062C"){this.DOM=u.element("div","error-container"),this.DOMIcon=u.element("img","error-icon",this.DOM),this.DOMTitle=u.element("div","error-title",this.DOM),this.DOMMessage=u.element("div","error-message",this.DOM),this.status("open"),this.DOMTitle.innerHTML=h,this.DOMMessage.innerHTML=v,this.DOMIcon.src=`icons/${x}.svg`,this.DOM.style.top=10+(this.DOM.clientHeight+10)*D.count+"px",D.count++}}class O{static tabDOM;static tabDOMTitle;static tabList;static tabActive;static error(h,v,x){throw new D(h,v,x),new Error(v)}static{this.tabDOM=u.element("div","tab-list"),this.tabDOMTitle=u.element("h1","tab-title",this.tabDOM),this.tabDOMTitle.textContent="\u062D\u0633\u0627\u0628\u062F\u0627\u0631"}}class j{DOM;active(){if(this.DOM.setAttribute("status","active"),O.tabActive)O.tabActive.deactive();O.tabActive=this}deactive(){this.DOM.setAttribute("status","deactive")}constructor(h){this.DOM=u.element("div","tab",O.tabDOM),this.DOM.textContent=h,this.DOM.addEventListener("click",this.active.bind(this))}}class q{static async init(){const h=await f.get("components");if(!h)O.error("\u0627\u0641\u0632\u0648\u0646\u0647","I can't find extentions !",0);h.forEach(async(v)=>await this.load(v))}static async load(h){if(!await f.get(`components/${h}/config`))O.error("\u0627\u0641\u0632\u0648\u0646\u0647",`\u0627\u0641\u0632\u0648\u0646\u0647 "${h}" \u06CC\u0627\u0641\u062A \u0646\u0634\u062F`,0);new j(h)}}q.init();
